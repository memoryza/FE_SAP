define("route",function(a,b,c){var d=a("util"),e=a("msg"),f="",g={},h=0;b.routeType=d.getRouteType(),b.go=function(b,c){e.pub("pageLeave",{from:b,to:c});var d="page/"+c;a.async(d,function(){e.pub("pageEnter",{from:b,to:c}),e.pub("pageLoding",{from:b,to:c})})},b.toPage=function(a,c,e,f){if(a.preventDefault(),e=e||null,f=f||"","pushState"==b.routeType)window.history.pushState(e,f,c),i();else{var g=d.getQueryParam(c),h=g.act;delete g.act;var j=d.urlParam(g);j=(j?"/":"")+j,location.hash=h+j}};var i=function(a){var c=+new Date;if(c-h>200){h=c;var e=d.getAppParam(b.routeType),i=f;f=e.act||g.act,b.go(i,f)}return!1};b.init=function(a){g=a,i(),"pushState"==b.routeType?window.onpopstate=i:window.onhashchange=i},b.clearLastState=function(){h=0}});